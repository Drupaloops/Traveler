{"version":3,"sources":["webpack:///js","webpack:///./public/asset/scripts/index.js","webpack:///external \"window.$\""],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","$","CommentList","_Component","this","getPrototypeOf","isArray","toString","data","commentNodes","map","comment","createElement","Comment","author","id","text","className","Component","CommentForm","_Component2","_this2","state","handleAuthorChange","bind","handleTextChange","handleSubmit","e","setState","preventDefault","trim","onCommentSubmit","Remarkable","onSubmit","type","placeholder","onChange","_Component3","rawMarkup","md","render","children","__html","dangerouslySetInnerHTML","CommentBox","_Component4","_this4","handleCommentSubmit","ajax","url","dataType","cache","success","error","xhr","status","err","console","comments","log","Date","now","newComments","concat","loadCommentsFromServer","defaultProps","pollInterval","document","getElementById","163","window"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,EAASC,GAE/B,YAYA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAhBje,GAAIW,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWX,WAAaW,EAAWX,aAAc,EAAOW,EAAWT,cAAe,EAAU,SAAWS,KAAYA,EAAWV,UAAW,GAAML,OAAOgB,eAAeL,EAAQI,EAAWE,IAAKF,IAAiB,MAAO,UAAUzB,EAAa4B,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBpB,EAAYS,UAAWmB,GAAiBC,GAAaT,EAAiBpB,EAAa6B,GAAqB7B,MCPjiB8B,EAAArC,EAAA,GDWKsC,EAAUrC,EAAuBoC,GCVtCE,EAAAvC,EAAA,IDcKwC,EAAavC,EAAuBsC,GCbrCE,EAAIzC,EAAQ,KAEV0C,EDuBa,SAAUC,GCtB5B,QAAAD,GAAYb,GAAO,MAAAxB,GAAAuC,KAAAF,GAAAjC,EAAAmC,MAAAF,EAAAjB,WAAAR,OAAA4B,eAAAH,IAAA/B,KAAAiC,KACZf,ID2DN,MArCAhB,GAAU6B,EAAaC,GAQvBjB,EAAagB,IACZR,IAAK,4BACLd,MAAO,eAEPc,IAAK,SACLd,MAAO,WC7BR,QAAS0B,GAAQ5C,GAChB,MAA+C,mBAAxCe,OAAOD,UAAU+B,SAASpC,KAAKT,GAEvC,GAAI4C,EAAQF,KAAKf,MAAMmB,MACtB,GAAIA,GAAOJ,KAAKf,MAAMmB,SAEtB,IAAIA,GAAOJ,KAAKf,MAAMmB,KAAKA,IAE5B,IAAIC,GAAeD,EAAKE,IAAI,SAASC,GACpC,MACCb,GAAAlC,QAAAgD,cAACC,GAAQC,OAAQH,EAAQG,OAAQpB,IAAKiB,EAAQI,IAC5CJ,EAAQK,OAIZ,OACClB,GAAAlC,QAAAgD,cAAA,OAAKK,UAAU,eACbR,ODoCIP,GACNL,EAAOqB,WC/BJC,EDiCa,SAAUC,GChC5B,QAAAD,GAAY9B,GAAOxB,EAAAuC,KAAAe,EAAA,IAAAE,GAAApD,EAAAmC,MAAAe,EAAAlC,WAAAR,OAAA4B,eAAAc,IAAAhD,KAAAiC,KACZf,GADY,OAElBgC,GAAKC,OAASR,OAAQ,GAAIE,KAAM,IAChCK,EAAKE,mBAAqBF,EAAKE,mBAAmBC,KAAxBH,GAC1BA,EAAKI,iBAAmBJ,EAAKI,iBAAiBD,KAAtBH,GACxBA,EAAKK,aAAeL,EAAKK,aAAaF,KAAlBH,GALFA,ED8FlB,MA7DAhD,GAAU8C,EAAaC,GAcvBlC,EAAaiC,IACZzB,IAAK,qBACLd,MAAO,SC1CU+C,GAClBvB,KAAKwB,UAAUd,OAAQa,EAAEvC,OAAOR,WD6C/Bc,IAAK,mBACLd,MAAO,SC5CQ+C,GAChBvB,KAAKwB,UAAUZ,KAAMW,EAAEvC,OAAOR,WD+C7Bc,IAAK,eACLd,MAAO,SC9CI+C,GACZA,EAAEE,gBACF,IAAIf,GAASV,KAAKkB,MAAMR,OAAOgB,OAC3Bd,EAAOZ,KAAKkB,MAAMN,KAAKc,MACtBd,IAASF,IAIdV,KAAKf,MAAM0C,iBAAiBjB,OAAQA,EAAQE,KAAMA,IAClDZ,KAAKwB,UAAUd,OAAQ,GAAIE,KAAM,SDiDhCtB,IAAK,SACLd,MAAO,WC/CC,GAAIoD,WACb,OACClC,GAAAlC,QAAAgD,cAAA,QAAMK,UAAU,cAAcgB,SAAU7B,KAAKsB,cAC5C5B,EAAAlC,QAAAgD,cAAA,SACCsB,KAAK,OACLC,YAAY,YACZvD,MAAOwB,KAAKkB,MAAMR,OAClBsB,SAAUhC,KAAKmB,qBAEhBzB,EAAAlC,QAAAgD,cAAA,SACCsB,KAAK,OACLC,YAAY,mBACZvD,MAAOwB,KAAKkB,MAAMN,KAClBoB,SAAUhC,KAAKqB,mBAEhB3B,EAAAlC,QAAAgD,cAAA,SAAOsB,KAAK,SAAStD,MAAM,cDsDtBuC,GACNtB,EAAOqB,WClDJL,EDoDS,SAAUwB,GCnDxB,QAAAxB,GAAYxB,GAAO,MAAAxB,GAAAuC,KAAAS,GAAA5C,EAAAmC,MAAAS,EAAA5B,WAAAR,OAAA4B,eAAAQ,IAAA1C,KAAAiC,KACZf,IDkFN,MA/BAhB,GAAUwC,EAASwB,GAQnBnD,EAAa2B,IACZnB,IAAK,YACLd,MAAO,QAAS0D,KC1DjB,GAAIC,GAAK,GAAIP,YACTM,EAAYC,EAAGC,OAAOpC,KAAKf,MAAMoD,SAASlC,WAC9C,QAASmC,OAAQJ,MD8DhB5C,IAAK,SACLd,MAAO,WC5DR,MACCkB,GAAAlC,QAAAgD,cAAA,OAAKK,UAAU,WACdnB,EAAAlC,QAAAgD,cAAA,MAAIK,UAAU,iBAAiBb,KAAKf,MAAMyB,QAC1ChB,EAAAlC,QAAAgD,cAAA,QAAM+B,wBAAyBvC,KAAKkC,mBDuE/BzB,GACNhB,EAAOqB,WClEJ0B,EDoEY,SAAUC,GCnE3B,QAAAD,GAAYvD,GAAOxB,EAAAuC,KAAAwC,EAAA,IAAAE,GAAA7E,EAAAmC,MAAAwC,EAAA3D,WAAAR,OAAA4B,eAAAuC,IAAAzE,KAAAiC,KACZf,GADY,OAElByD,GAAKxB,OACJd,OAAQO,GAAI,EAAGD,OAAQ,OAAQE,KAAM,yBAEtC8B,EAAKC,oBAAsBD,EAAKC,oBAAoBvB,KAAzBsB,GALTA,EDmJlB,MA/EAzE,GAAUuE,EAAYC,GAetB3D,EAAa0D,IACZlD,IAAK,yBACLd,MAAO,WC5ERqB,EAAE+C,MACDC,IAAK7C,KAAKf,MAAM4D,IAChBC,SAAU,OACVC,OAAO,EACPC,QAAS,SAAS5C,GACjBJ,KAAKwB,UAAUpB,KAAMA,KACpBgB,KAAKpB,MACPiD,MAAO,SAASC,EAAKC,EAAQC,GAC5BC,QAAQJ,MAAMjD,KAAKf,MAAM4D,IAAKM,EAAQC,EAAIjD,aACzCiB,KAAKpB,WDiFPV,IAAK,sBACLd,MAAO,SC/EW+B,GAEnB,GAAI+C,GAAWtD,KAAKkB,MAAMd,KAAKA,IAC/BiD,SAAQE,IAAID,GACZD,QAAQE,IAAIhD,GAIZA,EAAQI,GAAK6C,KAAKC,KAClB,IAAIC,GAAcJ,EAASK,QAAQpD,GACnCP,MAAKwB,UAAUpB,KAAMsD,IACrB7D,EAAE+C,MACDC,IAAK7C,KAAKf,MAAM4D,IAChBC,SAAU,OACVhB,KAAM,OACN1B,KAAMG,EACNyC,QAAS,SAAS5C,GACjBJ,KAAKwB,cACJJ,KAAKpB,MACPiD,MAAO,SAASC,EAAKC,EAAQC,GAC5BC,QAAQJ,MAAMjD,KAAKf,MAAM4D,IAAKM,EAAQC,EAAIjD,aACzCiB,KAAKpB,WDmFPV,IAAK,oBACLd,MAAO,WChFRwB,KAAK4D,4BDqFJtE,IAAK,SACLd,MAAO,WClFR,MACCkB,GAAAlC,QAAAgD,cAAA,OAAKK,UAAU,cACdnB,EAAAlC,QAAAgD,cAAA,kBACAd,EAAAlC,QAAAgD,cAACV,GAAaM,KAAMJ,KAAKkB,MAAMd,OAC/BV,EAAAlC,QAAAgD,cAACO,GAAYY,gBAAiB3B,KAAK2C,2BD6F9BH,GACN/C,EAAOqB,UCzFV0B,GAAWqB,cACVzD,OACEO,GAAI,EAAGD,OAAQ,OAAQE,KAAM,yBAIhChB,EAAApC,QAAS4E,OACR1C,EAAAlC,QAAAgD,cAACgC,GAAWK,IAAI,QAASiB,aAAc,MACvCC,SAASC,eAAe,aD2FnBC,IACA,SAAS/G,EAAQC,GEpQvBD,EAAAC,QAAA+G,OAAArE","file":"js/index.js?v=20161110","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(30);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar $ = __webpack_require__(163);\n\t\n\tvar CommentList = function (_Component) {\n\t\t_inherits(CommentList, _Component);\n\t\n\t\tfunction CommentList(props) {\n\t\t\t_classCallCheck(this, CommentList);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (CommentList.__proto__ || Object.getPrototypeOf(CommentList)).call(this, props));\n\t\t}\n\t\n\t\t_createClass(CommentList, [{\n\t\t\tkey: 'componentWillReceiveProps',\n\t\t\tvalue: function componentWillReceiveProps() {}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tfunction isArray(obj) {\n\t\t\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t\t\t}\n\t\t\t\tif (isArray(this.props.data)) {\n\t\t\t\t\tvar data = this.props.data;\n\t\t\t\t} else {\n\t\t\t\t\tvar data = this.props.data.data;\n\t\t\t\t}\n\t\t\t\tvar commentNodes = data.map(function (comment) {\n\t\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t\tComment,\n\t\t\t\t\t\t{ author: comment.author, key: comment.id },\n\t\t\t\t\t\tcomment.text\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'commentList' },\n\t\t\t\t\tcommentNodes\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CommentList;\n\t}(_react.Component);\n\t\n\tvar CommentForm = function (_Component2) {\n\t\t_inherits(CommentForm, _Component2);\n\t\n\t\tfunction CommentForm(props) {\n\t\t\t_classCallCheck(this, CommentForm);\n\t\n\t\t\tvar _this2 = _possibleConstructorReturn(this, (CommentForm.__proto__ || Object.getPrototypeOf(CommentForm)).call(this, props));\n\t\n\t\t\t_this2.state = { author: '', text: '' };\n\t\t\t_this2.handleAuthorChange = _this2.handleAuthorChange.bind(_this2);\n\t\t\t_this2.handleTextChange = _this2.handleTextChange.bind(_this2);\n\t\t\t_this2.handleSubmit = _this2.handleSubmit.bind(_this2);\n\t\t\treturn _this2;\n\t\t}\n\t\n\t\t_createClass(CommentForm, [{\n\t\t\tkey: 'handleAuthorChange',\n\t\t\tvalue: function handleAuthorChange(e) {\n\t\t\t\tthis.setState({ author: e.target.value });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleTextChange',\n\t\t\tvalue: function handleTextChange(e) {\n\t\t\t\tthis.setState({ text: e.target.value });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleSubmit',\n\t\t\tvalue: function handleSubmit(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar author = this.state.author.trim();\n\t\t\t\tvar text = this.state.text.trim();\n\t\t\t\tif (!text || !author) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// TODO: send request to the server\n\t\t\t\tthis.props.onCommentSubmit({ author: author, text: text });\n\t\t\t\tthis.setState({ author: '', text: '' });\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar md = new Remarkable();\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'form',\n\t\t\t\t\t{ className: 'commentForm', onSubmit: this.handleSubmit },\n\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tplaceholder: 'Your name',\n\t\t\t\t\t\tvalue: this.state.author,\n\t\t\t\t\t\tonChange: this.handleAuthorChange\n\t\t\t\t\t}),\n\t\t\t\t\t_react2.default.createElement('input', {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tplaceholder: 'Say something...',\n\t\t\t\t\t\tvalue: this.state.text,\n\t\t\t\t\t\tonChange: this.handleTextChange\n\t\t\t\t\t}),\n\t\t\t\t\t_react2.default.createElement('input', { type: 'submit', value: 'Post' })\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CommentForm;\n\t}(_react.Component);\n\t\n\tvar Comment = function (_Component3) {\n\t\t_inherits(Comment, _Component3);\n\t\n\t\tfunction Comment(props) {\n\t\t\t_classCallCheck(this, Comment);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (Comment.__proto__ || Object.getPrototypeOf(Comment)).call(this, props));\n\t\t}\n\t\n\t\t_createClass(Comment, [{\n\t\t\tkey: 'rawMarkup',\n\t\t\tvalue: function rawMarkup() {\n\t\t\t\tvar md = new Remarkable();\n\t\t\t\tvar rawMarkup = md.render(this.props.children.toString());\n\t\t\t\treturn { __html: rawMarkup };\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'comment' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\t{ className: 'commentAuthor' },\n\t\t\t\t\t\tthis.props.author\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement('span', { dangerouslySetInnerHTML: this.rawMarkup() })\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn Comment;\n\t}(_react.Component);\n\t\n\tvar CommentBox = function (_Component4) {\n\t\t_inherits(CommentBox, _Component4);\n\t\n\t\tfunction CommentBox(props) {\n\t\t\t_classCallCheck(this, CommentBox);\n\t\n\t\t\tvar _this4 = _possibleConstructorReturn(this, (CommentBox.__proto__ || Object.getPrototypeOf(CommentBox)).call(this, props));\n\t\n\t\t\t_this4.state = {\n\t\t\t\tdata: [{ id: 1, author: \"oops\", text: \"This is one comment\" }]\n\t\t\t};\n\t\t\t_this4.handleCommentSubmit = _this4.handleCommentSubmit.bind(_this4);\n\t\n\t\t\treturn _this4;\n\t\t}\n\t\n\t\t_createClass(CommentBox, [{\n\t\t\tkey: 'loadCommentsFromServer',\n\t\t\tvalue: function loadCommentsFromServer() {\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: this.props.url,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tcache: false,\n\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\tthis.setState({ data: data });\n\t\t\t\t\t}.bind(this),\n\t\t\t\t\terror: function (xhr, status, err) {\n\t\t\t\t\t\tconsole.error(this.props.url, status, err.toString());\n\t\t\t\t\t}.bind(this)\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleCommentSubmit',\n\t\t\tvalue: function handleCommentSubmit(comment) {\n\t\t\t\t// TODO: submit to the server and refresh the list\n\t\t\t\tvar comments = this.state.data.data;\n\t\t\t\tconsole.log(comments);\n\t\t\t\tconsole.log(comment);\n\t\t\t\t// Optimistically set an id on the new comment. It will be replaced by an\n\t\t\t\t// id generated by the server. In a production application you would likely\n\t\t\t\t// not use Date.now() for this and would have a more robust system in place.\n\t\t\t\tcomment.id = Date.now();\n\t\t\t\tvar newComments = comments.concat([comment]);\n\t\t\t\tthis.setState({ data: newComments });\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: this.props.url,\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: comment,\n\t\t\t\t\tsuccess: function (data) {\n\t\t\t\t\t\tthis.setState({});\n\t\t\t\t\t}.bind(this),\n\t\t\t\t\terror: function (xhr, status, err) {\n\t\t\t\t\t\tconsole.error(this.props.url, status, err.toString());\n\t\t\t\t\t}.bind(this)\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tthis.loadCommentsFromServer();\n\t\t\t\t//            setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'CommentBox' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Oops'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(CommentList, { data: this.state.data }),\n\t\t\t\t\t_react2.default.createElement(CommentForm, { onCommentSubmit: this.handleCommentSubmit })\n\t\t\t\t);\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn CommentBox;\n\t}(_react.Component);\n\t\n\tCommentBox.defaultProps = {\n\t\tdata: [{ id: 1, author: \"oops\", text: \"This is one comment\" }]\n\t};\n\t\n\t_reactDom2.default.render(_react2.default.createElement(CommentBox, { url: '/oops', pollInterval: 2000 }), document.getElementById('content'));\n\n/***/ },\n\n/***/ 163:\n/***/ function(module, exports) {\n\n\tmodule.exports = window.$;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// js?v=20161110","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nvar $ = require('jquery')\n\nclass CommentList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\tcomponentWillReceiveProps() {\n\n\t}\n\trender() {\n\t\tfunction isArray(obj) {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t}\n\t\tif (isArray(this.props.data)) {\n\t\t\tvar data = this.props.data;\n\t\t} else {\n\t\t\tvar data = this.props.data.data;\n\t\t}\n\t\tvar commentNodes = data.map(function(comment) {\n\t\t\treturn (\n\t\t\t\t<Comment author={comment.author} key={comment.id}>\n\t\t\t\t\t{comment.text}\n\t\t\t\t</Comment>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"commentList\">\n\t\t\t\t{commentNodes}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass CommentForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {author: '', text: ''};\n\t\tthis.handleAuthorChange = this.handleAuthorChange.bind(this);\n\t\tthis.handleTextChange = this.handleTextChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\thandleAuthorChange(e) {\n\t\tthis.setState({author: e.target.value});\n\t}\n\thandleTextChange(e) {\n\t\tthis.setState({text: e.target.value});\n\t}\n\thandleSubmit(e) {\n\t\te.preventDefault();\n\t\tvar author = this.state.author.trim();\n\t\tvar text = this.state.text.trim();\n\t\tif (!text || !author) {\n\t\t\treturn;\n\t\t}\n\t\t// TODO: send request to the server\n\t\tthis.props.onCommentSubmit({author: author, text: text});\n\t\tthis.setState({author: '', text: ''});\n\t}\n\trender() {\n\t\tvar md = new Remarkable();\n\t\treturn (\n\t\t\t<form className=\"commentForm\" onSubmit={this.handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Your name\"\n\t\t\t\t\tvalue={this.state.author}\n\t\t\t\t\tonChange={this.handleAuthorChange}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Say something...\"\n\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t\tonChange={this.handleTextChange}\n\t\t\t\t/>\n\t\t\t\t<input type=\"submit\" value=\"Post\" />\n\t\t\t</form>\n\t\t);\n\t}\n}\nclass Comment extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\trawMarkup() {\n\t\tvar md = new Remarkable();\n\t\tvar rawMarkup = md.render(this.props.children.toString());\n\t\treturn { __html: rawMarkup };\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"comment\">\n\t\t\t\t<h2 className=\"commentAuthor\">{this.props.author}</h2>\n\t\t\t\t<span dangerouslySetInnerHTML={this.rawMarkup()} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass CommentBox extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata: [{id: 1, author: \"oops\", text: \"This is one comment\"}]\n\t\t};\n\t\tthis.handleCommentSubmit = this.handleCommentSubmit.bind(this);\n\n\t}\n\tloadCommentsFromServer() {\n\t\t$.ajax({\n\t\t\turl: this.props.url,\n\t\t\tdataType: 'json',\n\t\t\tcache: false,\n\t\t\tsuccess: function(data) {\n\t\t\t\tthis.setState({data: data});\n\t\t\t}.bind(this),\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tconsole.error(this.props.url, status, err.toString());\n\t\t\t}.bind(this)\n\t\t});\n\t}\n\thandleCommentSubmit(comment) {\n\t\t// TODO: submit to the server and refresh the list\n\t\tvar comments = this.state.data.data;\n\t\tconsole.log(comments)\n\t\tconsole.log(comment)\n\t\t// Optimistically set an id on the new comment. It will be replaced by an\n\t\t// id generated by the server. In a production application you would likely\n\t\t// not use Date.now() for this and would have a more robust system in place.\n\t\tcomment.id = Date.now();\n\t\tvar newComments = comments.concat([comment]);\n\t\tthis.setState({data: newComments});\n\t\t$.ajax({\n\t\t\turl: this.props.url,\n\t\t\tdataType: 'json',\n\t\t\ttype: 'POST',\n\t\t\tdata: comment,\n\t\t\tsuccess: function(data) {\n\t\t\t\tthis.setState({});\n\t\t\t}.bind(this),\n\t\t\terror: function(xhr, status, err) {\n\t\t\t\tconsole.error(this.props.url, status, err.toString());\n\t\t\t}.bind(this)\n\t\t});\n\t}\n\tcomponentDidMount() {\n\t\tthis.loadCommentsFromServer();\n//            setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"CommentBox\">\n\t\t\t\t<h1>Oops</h1>\n\t\t\t\t<CommentList  data={this.state.data} />\n\t\t\t\t<CommentForm onCommentSubmit={this.handleCommentSubmit} />\n\t\t\t</div>\n\t\t);\n\t}\n}\nCommentBox.defaultProps = {\n\tdata: [\n\t\t{id: 1, author: \"oops\", text: \"This is one comment\"}\n\t]\n}\n\nReactDOM.render(\n\t<CommentBox url=\"/oops\"  pollInterval={2000} />,\n\tdocument.getElementById('content')\n)\n\n\n\n// WEBPACK FOOTER //\n// ./public/asset/scripts/index.js","module.exports = window.$;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"window.$\"\n// module id = 163\n// module chunks = 0"],"sourceRoot":""}